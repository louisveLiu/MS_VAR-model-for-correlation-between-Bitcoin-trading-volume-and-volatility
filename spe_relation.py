# 假设 Estimated Covariances 是已定义的协方差矩阵列表，每个状态一个矩阵
# Estimated Covariances 示例
import numpy as np

# 此处替换成你的协方差矩阵
Estimated_Covariances = [np.array([[ 1.25868106e-02,  6.37297353e-01,  3.77528965e-02,
        -2.35419194e-03,  2.46171141e-01, -7.34314632e-04,
        -1.16010298e-03, -9.95915620e-02,  4.90103726e-03,
         9.40413759e-04, -1.18934176e-01, -6.17761319e-03,
        -8.02314367e-04, -1.57265129e-02,  3.58678445e-03,
        -5.32636476e-04,  8.11760558e-02,  1.61641332e-03,
         9.71403488e-04,  1.74098770e-01, -7.33883822e-05,
        -1.65181417e-03,  9.31003608e-02,  3.17912190e-04,
        -1.20767285e-03],
       [ 3.50683866e-04, -4.10265023e-02, -4.20729744e-03,
         2.63935353e-03, -3.27526451e-02,  8.37496632e-04,
         6.88113469e-05, -7.50910704e-03, -8.73019292e-04,
         1.64040319e-03,  4.34000196e-03, -1.38526562e-04,
        -2.79942446e-04,  7.82670405e-03, -1.40451312e-03,
         6.70318301e-04,  1.44492028e-02,  4.75822740e-04,
        -1.09692278e-03,  2.55197490e-02,  1.14288786e-03,
        -2.69700235e-03,  2.98014353e-02, -2.44872446e-04,
         1.27643608e-05],
       [ 1.19673141e-03,  1.19270251e-02, -1.06806112e-03,
         4.75407709e-04,  7.26532881e-03,  1.46584250e-04,
        -7.33100773e-04, -6.95318179e-04,  6.94576942e-04,
        -2.58813719e-04, -2.11807759e-03, -4.31438746e-05,
         4.58365840e-05, -2.45183359e-03, -5.70950631e-05,
         1.17078985e-03, -3.53531474e-03, -3.33697612e-04,
         6.25463469e-04, -3.97985705e-03,  8.10552275e-04,
         1.38004874e-04, -3.92179902e-03, -1.24350784e-04,
         2.78743112e-04]]), np.array([[-2.80618831e-04,  5.24955878e-01,  9.17971456e-03,
         5.24650038e-04,  3.05304729e-01,  4.35767192e-03,
        -1.05983143e-03, -4.47263326e-02,  3.58993143e-03,
         1.26035900e-03, -1.07164327e-01,  4.66417133e-03,
         1.50646428e-03,  1.10318909e-01,  7.26393517e-03,
         1.49248392e-03,  1.99244833e-01,  3.85233602e-03,
         2.81563995e-04,  5.52862155e-02,  2.63777017e-03,
         2.17039724e-04, -4.51135911e-02,  4.42661584e-03,
        -7.59169008e-04],
       [ 1.21967746e-03,  4.88081699e-03,  9.90407891e-04,
         9.52230027e-04,  2.33612141e-03, -1.31199466e-03,
         6.22235761e-04, -2.08898564e-03,  1.83647765e-03,
         8.26509412e-04, -2.62592948e-03,  7.58442180e-04,
         2.08384877e-03,  2.78613019e-05,  1.23990513e-03,
        -8.90305039e-04,  1.43070619e-03, -7.94893483e-04,
         9.58484222e-05, -1.61192667e-03, -5.32401976e-04,
        -7.12156170e-04, -2.81127264e-03, -8.74540608e-04,
         1.40443692e-03],
       [ 1.80269582e-03,  1.76985647e-03, -1.53297699e-03,
         4.28341826e-04, -5.23742966e-04, -9.20394841e-04,
        -1.59891242e-03, -5.16983873e-04,  9.28202025e-05,
         1.77140397e-04, -1.16269332e-03,  1.53544296e-03,
        -1.42784981e-03,  5.14723226e-05,  1.16198071e-03,
        -7.69457200e-05, -3.23797950e-04, -1.53026269e-03,
        -9.19334262e-04, -7.50767019e-04,  3.02504823e-05,
         1.01332070e-03,  1.00179835e-03, -2.47538332e-03,
        -2.03225676e-03]]), np.array([[-2.38886795e-03,  4.57227096e-01, -2.07652908e-02,
        -1.76510131e-03,  2.77400099e-01,  2.20954986e-03,
        -2.90353793e-03, -7.80147775e-03,  1.20790145e-02,
        -1.71491631e-03, -1.37764281e-01,  1.31519303e-02,
         5.89034745e-03,  6.97353042e-02,  2.86103761e-03,
         3.59217163e-03,  2.46187599e-01,  7.84764551e-03,
        -2.02445548e-03,  1.49376378e-01,  6.63485034e-04,
        -2.04291213e-03, -6.08681280e-02, -6.00203657e-04,
         2.96026472e-04],
       [ 2.09332267e-04,  3.89051405e-02, -6.91284007e-04,
        -1.10648332e-03,  3.33070950e-02,  1.09870904e-03,
        -5.65291211e-04,  5.44281675e-03,  1.49289245e-03,
         1.25658396e-03, -2.13281593e-02,  1.19648354e-03,
         1.04144619e-03, -2.23160342e-02, -1.65625999e-04,
         9.09789771e-04, -1.35004280e-02,  1.51517625e-03,
        -4.41397609e-04, -6.05022278e-03, -2.65242332e-04,
        -6.11606863e-04, -1.25013981e-02, -1.55392330e-03,
         3.52828666e-04],
       [-6.14672046e-04,  5.57259101e-03, -1.16256582e-04,
         9.20959544e-04,  6.31871290e-03, -9.95092536e-04,
         2.52622928e-04,  2.34030037e-03,  4.05990294e-05,
         8.81577616e-04, -1.03997266e-03,  5.65090736e-05,
         6.14244203e-04, -2.36294164e-03, -4.60609572e-04,
         3.16963614e-04, -2.38509845e-03, -1.95938576e-03,
        -2.78006244e-05, -4.19221490e-05,  3.05100854e-03,
         7.62691029e-04, -3.79246403e-03, -4.89302312e-04,
         2.21648354e-03]])]

# 迭代每个状态的协方差矩阵并查看变量之间的关联
for state, cov_matrix in enumerate(Estimated_Covariances):
    print(f"\nState {state + 1} Covariance Matrix:")
    print(cov_matrix)
    # 分析交易量和波动率之间的协方差
    print(f"Covariance between trading volume and volatility in State {state + 1}: {cov_matrix[0, 1]}")
    # 分析收益率和波动率之间的协方差
    print(f"Covariance between returns and volatility in State {state + 1}: {cov_matrix[1, 2]}")
    # 分析收益率和交易量之间的协方差
    print(f"Covariance between returns and trading volume in State {state + 1}: {cov_matrix[0, 2]}")

